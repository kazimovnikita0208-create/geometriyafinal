# üßπ –û—á–∏—Å—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –≤ Supabase

## –ü—Ä–æ–±–ª–µ–º–∞

–í —Ç–∞–±–ª–∏—Ü–µ `halls` –≤ Supabase –µ—Å—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã (6 –∑–∞–ø–∏—Å–µ–π –≤–º–µ—Å—Ç–æ 2).

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ SQLite

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
cd backend
node scripts\checkHalls.js
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, —Å–∫–æ–ª—å–∫–æ –∑–∞–ª–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å (—Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ 2).

### –®–∞–≥ 2: –£–¥–∞–ª–∏—Ç–µ –¥—É–±–ª–∏–∫–∞—Ç—ã –≤ Supabase

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard ‚Üí **SQL Editor**
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `supabase/migrations/004_remove_duplicate_halls.sql`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ SQL –∫–æ–¥:

```sql
-- –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã halls
-- –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–∞–ª—ã –ø–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ name + address

-- –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã
SELECT 
  name, 
  address, 
  COUNT(*) as count
FROM halls
GROUP BY name, address
HAVING COUNT(*) > 1;

-- –£–¥–∞–ª—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã, –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ –∑–∞–ø–∏—Å—å —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º id
DELETE FROM halls
WHERE id NOT IN (
  SELECT MIN(id)
  FROM halls
  GROUP BY name, address
);

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
SELECT COUNT(*) as total_halls FROM halls;
```

4. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor
5. –ù–∞–∂–º–∏—Ç–µ **Run**

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** –≠—Ç–æ—Ç SQL —É–¥–∞–ª–∏—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã, –æ—Å—Ç–∞–≤–∏–≤ —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –∑–∞–ø–∏—Å—å –¥–ª—è –∫–∞–∂–¥–æ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ name + address.

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL:
- –í —Ç–∞–±–ª–∏—Ü–µ `halls` –¥–æ–ª–∂–Ω–æ –æ—Å—Ç–∞—Ç—å—Å—è 2 –∑–∞–ø–∏—Å–∏ (–∫–∞–∫ –≤ SQLite)
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–Ω–æ–≤–∞:
  ```bash
  cd backend
  .\check-migration.bat
  ```

## üîç –ü–æ—á–µ–º—É –ø–æ—è–≤–∏–ª–∏—Å—å –¥—É–±–ª–∏–∫–∞—Ç—ã?

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
1. –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–ª–∞—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
2. –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª –¥—É–±–ª–∏–∫–∞—Ç—ã –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –ø–æ–ª—è–º
3. –í Supabase —É–∂–µ –±—ã–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

## ‚úÖ –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏

–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å, –∏ –º–∏–≥—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è —É—Å–ø–µ—à–Ω–æ–π!


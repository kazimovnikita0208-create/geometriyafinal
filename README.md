# üé≠ –ì–µ–æ–º–µ—Ç—Ä–∏—è - Telegram Bot —Å Mini App

Telegram-–±–æ—Ç —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º Mini App –¥–ª—è —Å—Ç—É–¥–∏–∏ —Ç–∞–Ω—Ü–µ–≤ –∏ —Ä–∞—Å—Ç—è–∂–∫–∏ ¬´–ì–µ–æ–º–µ—Ç—Ä–∏—è¬ª.

## üìç –õ–æ–∫–∞—Ü–∏–∏

- **–ó–∞–ª 1**: —É–ª. –í–æ–ª–≥–∏–Ω–∞, 117–ê
- **–ó–∞–ª 2**: –ú–æ—Å–∫–æ–≤—Å–∫–æ–µ —à–æ—Å—Å–µ, 43, –¢–û–¶ ¬´–û—Ö–æ—Ç–Ω—ã–π —Ä—è–¥¬ª

## üé® –§–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å

- **–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç**: `#5833b6` (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ**: –±–µ–ª—ã–π, —á—ë—Ä–Ω—ã–π
- **–≠–ª–µ–º–µ–Ω—Ç—ã**: —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
- üìÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∑–∞–Ω—è—Ç–∏–π (—Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –∑–∞–ª—É –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é)
- üìù –ó–∞–ø–∏—Å—å –Ω–∞ –∑–∞–Ω—è—Ç–∏—è
- ‚ùå –û—Ç–º–µ–Ω–∞ –∑–∞–ø–∏—Å–∏ (—Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏)
- üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∞–±–æ–Ω–µ–º–µ–Ω—Ç–µ
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–Ω—è—Ç–∏—è—Ö –∏ –∞–∫—Ü–∏—è—Ö
- üè¢ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ª–∞/–ø–∏–ª–æ–Ω–∞

### –ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–ø–∏—Å–∏:
- **–í–µ—á–µ—Ä–Ω–∏–µ –∑–∞–Ω—è—Ç–∏—è** (–ø–æ—Å–ª–µ 15:00): –æ—Ç–º–µ–Ω–∞ –Ω–µ –ø–æ–∑–¥–Ω–µ–µ —á–µ–º –∑–∞ **4 —á–∞—Å–∞** –¥–æ –Ω–∞—á–∞–ª–∞
- **–î–Ω–µ–≤–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è** (10:00-15:00): –æ—Ç–º–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–æ **21:00 –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –¥–Ω—è**

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend
- Node.js + Express.js
- SQLite3 (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- node-telegram-bot-api (Telegram Bot)
- node-cron (–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á)
- JWT (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)

### Frontend (Mini App)
- Next.js 14+ (App Router)
- Tailwind CSS
- @twa-dev/sdk (Telegram WebApp)
- TypeScript

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
geometriya-bot/
‚îú‚îÄ‚îÄ backend/          # Node.js —Å–µ—Ä–≤–µ—Ä + Telegram –±–æ—Ç
‚îú‚îÄ‚îÄ frontend/         # Next.js Mini App
‚îú‚îÄ‚îÄ database_schema.sql
‚îú‚îÄ‚îÄ DEVELOPMENT_PLAN.md
‚îî‚îÄ‚îÄ README.md
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, API endpoints –∏ —ç—Ç–∞–ø–∞–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ:

üëâ **[DEVELOPMENT_PLAN.md](./DEVELOPMENT_PLAN.md)**

## üóÉÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

SQL —Å—Ö–µ–º–∞ —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏, –∏–Ω–¥–µ–∫—Å–∞–º–∏ –∏ –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

üëâ **[database_schema.sql](./database_schema.sql)**

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `subscriptions` - –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã
- `lessons` - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π
- `bookings` - –∑–∞–ø–∏—Å–∏ –Ω–∞ –∑–∞–Ω—è—Ç–∏—è
- `pole_bookings` - –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∏–ª–æ–Ω–æ–≤/–∑–∞–ª–∞
- `notifications` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `halls` - –∑–∞–ª—ã
- `directions` - –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∞–Ω—Ü–µ–≤
- `subscription_types` - —Ç–∏–ø—ã –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤
- `settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã

## üèÅ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd geometriya-bot

# –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
mkdir -p backend/src/{config,models,routes,controllers,services,middleware,bot}
mkdir -p backend/database
mkdir -p frontend/{app,components,lib,styles,public}
```

### 2. –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
cd backend/database
sqlite3 geometriya.db < ../../database_schema.sql
```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Backend

```bash
cd backend
npm init -y
npm install express sqlite3 better-sqlite3 node-telegram-bot-api jsonwebtoken bcrypt dotenv cors node-cron

# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
echo "BOT_TOKEN=your_bot_token_here
JWT_SECRET=your_secret_key_here
DATABASE_PATH=./database/geometriya.db
MINI_APP_URL=https://your-mini-app-url.com
PORT=3001" > .env
```

### 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Frontend

```bash
cd frontend
npx create-next-app@latest . --typescript --tailwind --app --no-src-dir
npm install @twa-dev/sdk axios date-fns
```

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

**Backend:**
```bash
cd backend
node src/index.js
```

**Frontend:**
```bash
cd frontend
npm run dev
```

## üìù TODO

–ü–æ–ª–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (13 —ç—Ç–∞–ø–æ–≤) —Å–º. –≤ [DEVELOPMENT_PLAN.md](./DEVELOPMENT_PLAN.md)

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è Telegram WebApp InitData
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è API
- ‚úÖ HTTPS –¥–ª—è Mini App
- ‚úÖ Rate limiting
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

**–°—Ç—É–¥–∏—è ¬´–ì–µ–æ–º–µ—Ç—Ä–∏—è¬ª**
- –¢–µ–ª–µ—Ñ–æ–Ω: +7 (XXX) XXX-XX-XX
- Instagram: @geometriya_dance

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Private project for Geometriya Dance Studio


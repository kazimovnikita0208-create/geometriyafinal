# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ __dirname is not defined

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞ `[ReferenceError: __dirname is not defined]` –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤ Edge Runtime, –≥–¥–µ `__dirname` –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω Edge Runtime –≤ middleware

–í `frontend/middleware.ts` –¥–æ–±–∞–≤–ª–µ–Ω–æ:
```typescript
export const runtime = 'edge'
```

–≠—Ç–æ —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç Next.js –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Edge Runtime –¥–ª—è middleware.

### 2. –û–±–Ω–æ–≤–ª–µ–Ω next.config.js

–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–∞–∫–µ—Ç–æ–≤:
```javascript
experimental: {
  serverComponentsExternalPackages: ['@supabase/ssr'],
}
```

–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç Next.js –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–∞–∫–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Node.js API.

## üîç –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- Edge Runtime –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `__dirname`, `__filename` –∏ –¥—Ä—É–≥–∏–µ Node.js API
- –£–∫–∞–∑–∞–≤ `runtime = 'edge'`, –º—ã —è–≤–Ω–æ –≥–æ–≤–æ—Ä–∏–º Next.js –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Edge Runtime
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `serverComponentsExternalPackages` –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## üöÄ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä—ë—Ç –ø—Ä–æ–µ–∫—Ç
3. –û—à–∏–±–∫–∞ `__dirname is not defined` –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å

---

**–ü–æ—Å–ª–µ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫!**


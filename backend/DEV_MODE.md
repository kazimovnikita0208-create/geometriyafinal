# üöÄ –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (DEV_MODE)

## –ß—Ç–æ —ç—Ç–æ?

–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É JWT —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Å–æ–∑–¥–∞–µ—Ç **—Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–±–µ–∑ Telegram** –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

## –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å?

–í —Ñ–∞–π–ª–µ `backend/.env` –¥–æ–±–∞–≤—å—Ç–µ:
```env
DEV_MODE=true
```

## –ß—Ç–æ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è?

### 1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (`authMiddleware`)**
- ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç JWT —Ç–æ–∫–µ–Ω
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
  - `telegram_id`: 999999999
  - `first_name`: –¢–µ—Å—Ç–æ–≤—ã–π
  - `last_name`: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  - `phone`: 89397187500
  - `is_admin`: 0

### 2. **–ê–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞ (`adminMiddleware`)**
- ‚úÖ –†–∞–∑—Ä–µ—à–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –∞–¥–º–∏–Ω—Å–∫–∏–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç `is_admin = 1`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (–±–µ–∑ —Ç–æ–∫–µ–Ω–∞):
```bash
curl -X POST http://localhost:3001/api/subscriptions \
  -H "Content-Type: application/json" \
  -d '{
    "subscriptionTypeId": 1,
    "firstName": "–ù–∏–∫–∏—Ç–∞",
    "lastName": "–¢–µ—Å—Ç–æ–≤",
    "phone": "89397187500",
    "address": "–¢–û–¶ \"–û—Ö–æ—Ç–Ω—ã–π —Ä—è–¥\"",
    "bookingType": "flexible"
  }'
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤:
```bash
curl http://localhost:3001/api/subscriptions/my
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞—è–≤–æ–∫ (–∞–¥–º–∏–Ω):
```bash
curl http://localhost:3001/api/subscriptions/requests
```

## Frontend

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ DEV_MODE –≤ backend, frontend **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç** –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram.

–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ:
- http://localhost:3002/prices - –≤—ã–±—Ä–∞—Ç—å –∏ –∫—É–ø–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç
- http://localhost:3002/profile - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã
- http://localhost:3002/admin - –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞)

## ‚ö†Ô∏è –í–ê–ñ–ù–û

**–ù–ï –ò–°–ü–û–õ–¨–ó–£–ô–¢–ï DEV_MODE=true –í –ü–†–û–î–ê–ö–®–ï–ù–ï!**

–≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –æ–≥—Ä–æ–º–Ω—É—é —É—è–∑–≤–∏–º–æ—Å—Ç—å:
- –õ—é–±–æ–π –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –õ—é–±–æ–π –ø–æ–ª—É—á–∞–µ—Ç –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞

–ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º:
1. –£–¥–∞–ª–∏—Ç–µ `DEV_MODE=true` –∏–∑ `.env`
2. –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `DEV_MODE=false`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

## –ö–∞–∫ –≤—ã–∫–ª—é—á–∏—Ç—å?

–í —Ñ–∞–π–ª–µ `backend/.env` –∏–∑–º–µ–Ω–∏—Ç–µ:
```env
DEV_MODE=false
```

–ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É –ø–æ–ª–Ω–æ—Å—Ç—å—é.

–ó–∞—Ç–µ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend:
```bash
cd backend
node src/index.js
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

–í –∫–æ–Ω—Å–æ–ª–∏ backend –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
üöÄ DEV_MODE: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –¢–µ—Å—Ç–æ–≤—ã–π
üöÄ DEV_MODE: –ê–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã
```

–ï—Å–ª–∏ —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∞–∫—Ç–∏–≤–µ–Ω.


const Database = require('better-sqlite3');
const path = require('path');

console.log('üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...\n');

const dbPath = path.join(__dirname, '..', 'dev.db');
const db = new Database(dbPath);

try {
  const updateDirection = db.prepare(`
    UPDATE directions 
    SET description = ?, features = ?, levels = ?
    WHERE slug = ?
  `);

  const directions = [
    {
      slug: 'pole-fit',
      description: '–ù–∞ –∑–∞–Ω—è—Ç–∏–∏ —É—á–∏–º —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∏–∑ –Ω–∏—Ö.\n\n–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å —É—Ä–æ–∫–∞ –ø—Ä–æ–≤–æ–¥–∏–º ¬´–≤ –≤–æ–∑–¥—É—Ö–µ¬ª, –Ω–æ–≤–∏—á–∫–∞–º –Ω–µ —Å—Ç–æ–∏—Ç –±–æ—è—Ç—å—Å—è Pole Fit. –ù–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ–≥–¥–∞ –¥–∞–µ—Ç—Å—è –ø–æ —Å–∏–ª–∞–º. –ü–æ–º–∏–º–æ —Å—É—Å—Ç–∞–≤–Ω–æ–π —Ä–∞–∑–º–∏–Ω–∫–∏ –∏ —Ä–∞–±–æ—Ç—ã –Ω–∞ –ø–∏–ª–æ–Ω–µ, –∑–∞–Ω—è—Ç–∏–µ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ –æ–±—â—É—é –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Ñ–∏–∑–∏—á–µ—Å–∫—É—é –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É.\n\n–û–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —ç—Å—Ç–µ—Ç–∏—á–Ω—ã—Ö –≤–∏–¥–æ–≤ —Ñ–∏—Ç–Ω–µ—Å–∞, —Å –∫–æ—Ç–æ—Ä—ã–º –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –≤—Å–µ —Ç–µ–ª–æ!',
      features: JSON.stringify(['–¢—Ä—é–∫–∏ –∏ –∞–∫—Ä–æ–±–∞—Ç–∏–∫–∞ –Ω–∞ –ø–∏–ª–æ–Ω–µ', '–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤', '–û–±—â–∞—è —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞', '–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞']),
      levels: JSON.stringify(['–í–≤–æ–¥–Ω—ã–π', '–ù–∞—á–∏–Ω–∞—é—â–∏–π', '–ü—Ä–æ–¥–æ–ª–∂–∞—é—â–∏–π', '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π'])
    },
    {
      slug: 'pole-exotic',
      description: '–¢–∞–Ω–µ—Ü —Å –ø–∏–ª–æ–Ω–æ–º –Ω–∞ –∫–∞–±–ª—É–∫–∞—Ö.\n\n–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –≥–¥–µ —Ç—ã —Å–º–æ–∂–µ—à—å –≤—ã—Ä–∞–∂–∞—Ç—å —Å–µ–±—è —á–µ—Ä–µ–∑ –º—É–∑—ã–∫—É –∏ —Å–≤–æ–µ —Ç–µ–ª–æ. –ù–∞ —Ç–∞–∫–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ –º—ã —É—á–∏–º—Å—è –∫—Ä–∞—Å–∏–≤–æ –¥–≤–∏–≥–∞—Ç—å—Å—è –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –æ–±—É–≤–∏ ‚Äî —Å—Ç—Ä–∏–ø–∞—Ö: —Å –ø–∏–ª–æ–Ω–æ–º –∏ –±–µ–∑ –Ω–µ–≥–æ, –≤ –ø–∞—Ä—Ç–µ—Ä–µ.',
      features: JSON.stringify(['–¢–∞–Ω–µ—Ü –Ω–∞ –∫–∞–±–ª—É–∫–∞—Ö', '–†–∞–±–æ—Ç–∞ —Å –º—É–∑—ã–∫–∞–ª—å–Ω–æ—Å—Ç—å—é', '–î–≤–∏–∂–µ–Ω–∏—è –Ω–∞ –ø–∏–ª–æ–Ω–µ –∏ –≤ –ø–∞—Ä—Ç–µ—Ä–µ', '–†–∞–∑–≤–∏—Ç–∏–µ –ø–ª–∞—Å—Ç–∏–∫–∏']),
      levels: JSON.stringify(['–ù–∞—á–∏–Ω–∞—é—â–∏–µ', '–ü—Ä–æ–¥–æ–ª–∂–∞—é—â–∏–µ'])
    },
    {
      slug: 'strength-flexibility',
      description: '–°–∏–ª–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ + —Ä–∞—Å—Ç—è–∂–∫–∞\n\n–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–º–æ–∂–µ—Ç –æ–±—Ä–µ—Å—Ç–∏ —Ñ–∏–≥—É—Ä—É –º–µ—á—Ç—ã –∏ —É—Å–∫–æ—Ä–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ Pole Fit –∏ Pole Exotic. –í–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ –æ–±—â—É—é —Ñ–∏–∑–∏—á–µ—Å–∫—É—é –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –∏ —Å—Ç—Ä–µ—Ç—á–∏–Ω–≥.',
      features: JSON.stringify(['–û–±—â–∞—è —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞', '–°—Ç—Ä–µ—Ç—á–∏–Ω–≥', '–ü–æ–¥—Ç—è–Ω—É—Ç–æ–µ —Ç–µ–ª–æ', '–°–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å—É –Ω–∞ –ø–∏–ª–æ–Ω–µ']),
      levels: JSON.stringify(['–í—Å–µ —É—Ä–æ–≤–Ω–∏'])
    },
    {
      slug: 'stretching',
      description: '–ó–¥–æ—Ä–æ–≤–æ–µ —Ç–µ–ª–æ, —à–ø–∞–≥–∞—Ç—ã –∏ –ø—Ä–æ–≥–∏–±—ã\n\n–ú—ã —Å–æ—á–µ—Ç–∞–µ–º —Ä–∞–∑–Ω—ã–µ –≤–∏–¥—ã —Å—Ç—Ä–µ—Ç—á–∏–Ω–≥–∞: –∞–∫—Ç–∏–≤–Ω—ã–π, –ø–∞—Å—Å–∏–≤–Ω—ã–π, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π; —Å–æ—Å—Ç–∞–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—ã –∑–∞–Ω—è—Ç–∏–π —Å —É—á–µ—Ç–æ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–¥–æ–≤. –í –Ω–∞—à–µ–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏ –µ—Å—Ç—å –∫–ª–∞—Å—Å—ã –∫–∞–∫ —Ñ–∏—Ç–Ω–µ—Å-—Ä–∞—Å—Ç—è–∂–∫–∏, —Ç–∞–∫ –∏ —Ä–∞—Å—Ç—è–∂–∫–∏, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –Ω–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π (–∫ –ø—Ä–∏–º–µ—Ä—É, —à–ø–∞–≥–∞—Ç–æ–≤ –∏–ª–∏ –º–æ—Å—Ç–∏–∫–æ–≤).',
      features: JSON.stringify(['–°–æ—á–µ—Ç–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –≤–∏–¥–æ–≤ —Å—Ç—Ä–µ—Ç—á–∏–Ω–≥–∞', '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥–∏–∫–∏', '–§–∏—Ç–Ω–µ—Å-—Ä–∞—Å—Ç—è–∂–∫–∞', '–†–∞—Å—Ç—è–∂–∫–∞ –Ω–∞ —à–ø–∞–≥–∞—Ç']),
      levels: JSON.stringify(['–í—Å–µ —É—Ä–æ–≤–Ω–∏'])
    },
    {
      slug: 'choreo',
      description: '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∂–µ–Ω—Å–∫–∏–µ —Å—Ç–∏–ª–∏\n\n–ù–∞ Choreo –º—ã —É—á–∏–º —Å–≤—è–∑–∫–∏ –≤ —Å—Ç–∏–ª—è—Ö High Heels –∏ Jazz Funk.\n\nHigh Heels ‚Äî —Ç–∞–Ω–µ—Ü –Ω–∞ —à–ø–∏–ª—å–∫–∞—Ö, –≥–¥–µ –≤–∞–∂–Ω–æ –Ω–µ —Ç–æ–ª—å–∫–æ –∫—Ä–∞—Å–∏–≤–æ –¥–≤–∏–≥–∞—Ç—å—Å—è, –Ω–æ –∏ —É–¥–µ—Ä–∂–∞—Ç—å —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ. –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –¥–≤–∏–∂–µ–Ω–∏–π, –∞ —Ç–∞–∫–∂–µ —É–∫—Ä–µ–ø–ª—è–µ—Ç –º—ã—à—Ü—ã –Ω–æ–≥.\n\nJazz Funk ‚Äî —Å–∏–º–±–∏–æ–∑ —Ö–∏–ø-—Ö–æ–ø–∞, –¥–∂–∞–∑–æ–≤–æ–π –∏ —ç—Å—Ç—Ä–∞–¥–Ω–æ–π —Ö–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏–∏, –≤–∞–∫–∏–Ω–≥–∞. –Ø—Ä–∫–∏–π —Ç–∞–Ω–µ—Ü, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª–Ω—è—é—Ç –≤ –∫—Ä–æ—Å—Å–æ–≤–∫–∞—Ö.',
      features: JSON.stringify(['–¢–∞–Ω—Ü—ã –Ω–∞ –∫–∞–±–ª—É–∫–∞—Ö –∏ –≤ –∫—Ä–æ—Å—Å–æ–≤–∫–∞—Ö', '–£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –º—ã—à—Ü –Ω–æ–≥', '–†–∞–∑–≤–∏—Ç–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏', '–Ø—Ä–∫–∏–µ —ç–º–æ—Ü–∏–∏']),
      levels: JSON.stringify(['–í—Å–µ —É—Ä–æ–≤–Ω–∏'])
    },
    {
      slug: 'strip',
      description: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç—Ä–∏–ø\n\n–ù–∞ –∑–∞–Ω—è—Ç–∏—è—Ö –ø–æ —ç—Ç–æ–º—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å –∫—Ä–∞—Å–∏–≤–æ –∏ –ø–ª–∞—Å—Ç–∏—á–Ω–æ –¥–≤–∏–≥–∞—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–∏–ø–∞—Ö: —Å—Ç–æ—è –∏ –≤ –ø–∞—Ä—Ç–µ—Ä–µ. –û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –≤ Strip —É–¥–µ–ª—è–µ—Ç—Å—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ—Å—Ç–∏: –∫–∞–∂–¥–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –≤ —Ç–∞–Ω—Ü–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∑–≤—É–∫.',
      features: JSON.stringify(['–¢–∞–Ω—Ü—ã –Ω–∞ –∫–∞–±–ª—É–∫–∞—Ö', '–†–∞–±–æ—Ç–∞ —Å –ø–ª–∞—Å—Ç–∏–∫–æ–π', '–†–∞–∑–≤–∏—Ç–∏–µ –º—É–∑—ã–∫–∞–ª—å–Ω–æ—Å—Ç–∏', '–ü–∞—Ä—Ç–µ—Ä–Ω–∞—è –∞–∫—Ä–æ–±–∞—Ç–∏–∫–∞']),
      levels: JSON.stringify(['–í—Å–µ —É—Ä–æ–≤–Ω–∏'])
    }
  ];

  let updated = 0;
  directions.forEach(dir => {
    const result = updateDirection.run(dir.description, dir.features, dir.levels, dir.slug);
    if (result.changes > 0) {
      updated++;
      console.log(`‚úì –û–±–Ω–æ–≤–ª–µ–Ω–æ: ${dir.slug}`);
    } else {
      console.log(`‚ö†Ô∏è  –ù–µ –Ω–∞–π–¥–µ–Ω–æ: ${dir.slug}`);
    }
  });

  console.log(`\n‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ ${updated} –∏–∑ ${directions.length} –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π`);
  
  db.close();
  
} catch (error) {
  console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π:', error);
  db.close();
  process.exit(1);
}


